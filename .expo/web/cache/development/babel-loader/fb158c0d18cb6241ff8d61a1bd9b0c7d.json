{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KeyboardAvoidingView = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _excluded = [\"style\", \"offset\", \"autoDismiss\"];\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\wks\\\\reactnative\\\\prueba\\\\kitten2\\\\src\\\\layouts\\\\messaging\\\\chat-2\\\\extra\\\\keyboard-avoiding-view.component.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar animationDuration = _reactNative.Platform.select({\n  android: 160,\n  default: 250\n});\n\nvar showEvent = _reactNative.Platform.select({\n  android: 'keyboardDidShow',\n  default: 'keyboardWillShow'\n});\n\nvar hideEvent = _reactNative.Platform.select({\n  android: 'keyboardDidHide',\n  default: 'keyboardWillHide'\n});\n\nvar defaultProps = {\n  offset: function offset(height) {\n    return height;\n  }\n};\nvar translateY = new _reactNative.Animated.Value(0);\n\nvar KeyboardAvoidingView = function KeyboardAvoidingView(props) {\n  var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n      style = _defaultProps$props.style,\n      offset = _defaultProps$props.offset,\n      autoDismiss = _defaultProps$props.autoDismiss,\n      viewProps = (0, _objectWithoutProperties2.default)(_defaultProps$props, _excluded);\n\n  _react.default.useEffect(function () {\n    var showEventSubscription = _reactNative.Keyboard.addListener(showEvent, onKeyboardShow);\n\n    var hideEventSubscription = _reactNative.Keyboard.addListener(hideEvent, onKeyboardHide);\n\n    return function () {\n      showEventSubscription.remove();\n      hideEventSubscription.remove();\n    };\n  });\n\n  var onKeyboardShow = function onKeyboardShow(event) {\n    var offsetValue = -offset(event.endCoordinates.height);\n    createTranslateAnimation({\n      offsetValue: offsetValue\n    }).start();\n  };\n\n  var onKeyboardHide = function onKeyboardHide(event) {\n    var offsetValue = 0;\n    createTranslateAnimation({\n      offsetValue: offsetValue\n    }).start();\n  };\n\n  var createTranslateAnimation = function createTranslateAnimation(params) {\n    return _reactNative.Animated.timing(translateY, {\n      toValue: params.offsetValue,\n      duration: animationDuration,\n      easing: _reactNative.Easing.linear,\n      useNativeDriver: false\n    });\n  };\n\n  var transformsStyle = {\n    transform: [{\n      translateY: translateY\n    }]\n  };\n  return _react.default.createElement(_reactNative.TouchableWithoutFeedback, {\n    disabled: !autoDismiss,\n    onPress: _reactNative.Keyboard.dismiss,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.Animated.View, (0, _extends2.default)({\n    style: [transformsStyle, style]\n  }, viewProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  })));\n};\n\nexports.KeyboardAvoidingView = KeyboardAvoidingView;","map":{"version":3,"names":["animationDuration","Platform","select","android","default","showEvent","hideEvent","defaultProps","offset","height","translateY","Animated","Value","KeyboardAvoidingView","props","style","autoDismiss","viewProps","React","useEffect","showEventSubscription","Keyboard","addListener","onKeyboardShow","hideEventSubscription","onKeyboardHide","remove","event","offsetValue","endCoordinates","createTranslateAnimation","start","params","timing","toValue","duration","easing","Easing","linear","useNativeDriver","transformsStyle","transform","dismiss"],"sources":["C:/wks/reactnative/prueba/kitten2/src/layouts/messaging/chat-2/extra/keyboard-avoiding-view.component.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  Easing,\n  EmitterSubscription,\n  Keyboard,\n  KeyboardEvent,\n  KeyboardEventName,\n  Platform,\n  TouchableWithoutFeedback,\n  TransformsStyle,\n  ViewProps,\n} from 'react-native';\n\nexport interface KeyboardAvoidingViewProps extends ViewProps {\n  offset?: (height: number) => number;\n  autoDismiss?: boolean;\n  children: React.ReactNode;\n}\n\nconst animationDuration: number = Platform.select({\n  android: 160,\n  default: 250,\n});\n\nconst showEvent: KeyboardEventName = Platform.select({\n  android: 'keyboardDidShow',\n  default: 'keyboardWillShow',\n});\n\nconst hideEvent: KeyboardEventName = Platform.select({\n  android: 'keyboardDidHide',\n  default: 'keyboardWillHide',\n});\n\nconst defaultProps: Partial<KeyboardAvoidingViewProps> = {\n  offset: height => height,\n};\n\nconst translateY = new Animated.Value(0);\n\nexport const KeyboardAvoidingView = (props: KeyboardAvoidingViewProps): React.ReactElement => {\n\n  const { style, offset, autoDismiss, ...viewProps } = { ...defaultProps, ...props };\n\n  React.useEffect(() => {\n    const showEventSubscription: EmitterSubscription = Keyboard.addListener(\n      showEvent,\n      onKeyboardShow,\n    );\n    const hideEventSubscription: EmitterSubscription = Keyboard.addListener(\n      hideEvent,\n      onKeyboardHide,\n    );\n    return () => {\n      showEventSubscription.remove();\n      hideEventSubscription.remove();\n    };\n  });\n\n  const onKeyboardShow = (event: KeyboardEvent): void => {\n    const offsetValue: number = -offset(event.endCoordinates.height);\n    createTranslateAnimation({ offsetValue }).start();\n  };\n\n  const onKeyboardHide = (event: KeyboardEvent): void => {\n    const offsetValue: number = 0;\n    createTranslateAnimation({ offsetValue }).start();\n  };\n\n  const createTranslateAnimation = (params: { offsetValue: number }): Animated.CompositeAnimation => {\n    return Animated.timing(translateY, {\n      toValue: params.offsetValue,\n      duration: animationDuration,\n      easing: Easing.linear,\n      useNativeDriver: false,\n    });\n  };\n\n  const transformsStyle: TransformsStyle = {\n    // @ts-ignore\n    transform: [{ translateY }],\n  };\n\n  return (\n    <TouchableWithoutFeedback\n      disabled={!autoDismiss}\n      onPress={Keyboard.dismiss}>\n      <Animated.View\n        style={[transformsStyle, style]}\n        {...viewProps}\n      />\n    </TouchableWithoutFeedback>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;AAmBA,IAAMA,iBAAyB,GAAGC,qBAAA,CAASC,MAAT,CAAgB;EAChDC,OAAO,EAAE,GADuC;EAEhDC,OAAO,EAAE;AAFuC,CAAhB,CAAlC;;AAKA,IAAMC,SAA4B,GAAGJ,qBAAA,CAASC,MAAT,CAAgB;EACnDC,OAAO,EAAE,iBAD0C;EAEnDC,OAAO,EAAE;AAF0C,CAAhB,CAArC;;AAKA,IAAME,SAA4B,GAAGL,qBAAA,CAASC,MAAT,CAAgB;EACnDC,OAAO,EAAE,iBAD0C;EAEnDC,OAAO,EAAE;AAF0C,CAAhB,CAArC;;AAKA,IAAMG,YAAgD,GAAG;EACvDC,MAAM,EAAE,gBAAAC,MAAM;IAAA,OAAIA,MAAJ;EAAA;AADyC,CAAzD;AAIA,IAAMC,UAAU,GAAG,IAAIC,qBAAA,CAASC,KAAb,CAAmB,CAAnB,CAAnB;;AAEO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,EAA0D;EAE5F,0DAA0DP,YAA1D,GAA2EO,KAA3E;EAAA,IAAQC,KAAR,uBAAQA,KAAR;EAAA,IAAeP,MAAf,uBAAeA,MAAf;EAAA,IAAuBQ,WAAvB,uBAAuBA,WAAvB;EAAA,IAAuCC,SAAvC;;EAEAC,cAAA,CAAMC,SAAN,CAAgB,YAAM;IACpB,IAAMC,qBAA0C,GAAGC,qBAAA,CAASC,WAAT,CACjDjB,SADiD,EAEjDkB,cAFiD,CAAnD;;IAIA,IAAMC,qBAA0C,GAAGH,qBAAA,CAASC,WAAT,CACjDhB,SADiD,EAEjDmB,cAFiD,CAAnD;;IAIA,OAAO,YAAM;MACXL,qBAAqB,CAACM,MAAtB;MACAF,qBAAqB,CAACE,MAAtB;IACD,CAHD;EAID,CAbD;;EAeA,IAAMH,cAAc,GAAG,SAAjBA,cAAiB,CAACI,KAAD,EAAgC;IACrD,IAAMC,WAAmB,GAAG,CAACpB,MAAM,CAACmB,KAAK,CAACE,cAAN,CAAqBpB,MAAtB,CAAnC;IACAqB,wBAAwB,CAAC;MAAEF,WAAW,EAAXA;IAAF,CAAD,CAAxB,CAA0CG,KAA1C;EACD,CAHD;;EAKA,IAAMN,cAAc,GAAG,SAAjBA,cAAiB,CAACE,KAAD,EAAgC;IACrD,IAAMC,WAAmB,GAAG,CAA5B;IACAE,wBAAwB,CAAC;MAAEF,WAAW,EAAXA;IAAF,CAAD,CAAxB,CAA0CG,KAA1C;EACD,CAHD;;EAKA,IAAMD,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACE,MAAD,EAAkE;IACjG,OAAOrB,qBAAA,CAASsB,MAAT,CAAgBvB,UAAhB,EAA4B;MACjCwB,OAAO,EAAEF,MAAM,CAACJ,WADiB;MAEjCO,QAAQ,EAAEnC,iBAFuB;MAGjCoC,MAAM,EAAEC,mBAAA,CAAOC,MAHkB;MAIjCC,eAAe,EAAE;IAJgB,CAA5B,CAAP;EAMD,CAPD;;EASA,IAAMC,eAAgC,GAAG;IAEvCC,SAAS,EAAE,CAAC;MAAE/B,UAAU,EAAVA;IAAF,CAAD;EAF4B,CAAzC;EAKA,OACE,6BAAC,qCAAD;IACE,QAAQ,EAAE,CAACM,WADb;IAEE,OAAO,EAAEK,qBAAA,CAASqB,OAFpB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAGE,6BAAC,qBAAD,CAAU,IAAV;IACE,KAAK,EAAE,CAACF,eAAD,EAAkBzB,KAAlB;EADT,GAEME,SAFN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAHF,CADF;AAUD,CArDM"},"metadata":{},"sourceType":"script"}