{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _excluded = [\"indicatorWidth\", \"indicatorHeight\", \"indicatorBackgroundColor\"],\n    _excluded2 = [\"eva\", \"style\", \"contentContainerStyle\", \"onLayout\", \"indicator\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native\");\n\nvar devsupport_1 = require(\"../../devsupport\");\n\nvar theme_1 = require(\"../../theme\");\n\nvar type_1 = require(\"./type\");\n\nvar INDICATOR_OFFSET = 8;\nvar INDICATOR_WIDTH = 6;\n\nvar PopoverView = function (_react_1$default$Comp) {\n  _inherits(PopoverView, _react_1$default$Comp);\n\n  var _super = _createSuper(PopoverView);\n\n  function PopoverView() {\n    var _this;\n\n    _classCallCheck(this, PopoverView);\n\n    _this = _super.apply(this, arguments);\n\n    _this.getComponentStyle = function (source) {\n      var indicatorWidth = source.indicatorWidth,\n          indicatorHeight = source.indicatorHeight,\n          indicatorBackgroundColor = source.indicatorBackgroundColor,\n          containerParameters = _objectWithoutProperties(source, _excluded);\n\n      return {\n        content: containerParameters,\n        indicator: {\n          width: indicatorWidth,\n          height: indicatorHeight,\n          backgroundColor: indicatorBackgroundColor\n        }\n      };\n    };\n\n    _this.getDirectionStyle = function () {\n      var _this$placement$flex = _this.placement.flex(),\n          direction = _this$placement$flex.direction,\n          alignment = _this$placement$flex.alignment;\n\n      var isVertical = direction.startsWith('column');\n      var isStart = alignment.endsWith('start');\n      var isEnd = alignment.endsWith('end');\n      var isReverse = direction.endsWith('reverse');\n      var indicatorRotate = isVertical ? 180 : 90;\n      var indicatorReverseRotate = isReverse ? 0 : 180;\n      var containerTranslate = _this.props.indicator && !isVertical ? INDICATOR_WIDTH / 2 : 0;\n      containerTranslate = isReverse ? containerTranslate : -containerTranslate;\n      var indicatorTranslate = isVertical ? -INDICATOR_OFFSET : INDICATOR_OFFSET;\n      indicatorTranslate = isReverse ? -indicatorTranslate : indicatorTranslate;\n      var i18nVerticalIndicatorTranslate = devsupport_1.RTLService.select(indicatorTranslate, -indicatorTranslate);\n      indicatorTranslate = isVertical ? i18nVerticalIndicatorTranslate : indicatorTranslate;\n      var contentTransforms = {\n        transform: [{\n          translateX: containerTranslate\n        }]\n      };\n      var indicatorTransforms = {\n        transform: [{\n          rotate: indicatorRotate + \"deg\"\n        }, {\n          rotate: indicatorReverseRotate + \"deg\"\n        }, {\n          translateX: isStart ? -indicatorTranslate : 0\n        }, {\n          translateX: isEnd ? indicatorTranslate : 0\n        }]\n      };\n      return {\n        container: {\n          flexDirection: direction,\n          alignItems: alignment\n        },\n        content: contentTransforms,\n        indicator: indicatorTransforms\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(PopoverView, [{\n    key: \"placement\",\n    get: function get() {\n      return type_1.PopoverPlacements.parse(this.props.placement);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          eva = _this$props.eva,\n          style = _this$props.style,\n          contentContainerStyle = _this$props.contentContainerStyle,\n          onLayout = _this$props.onLayout,\n          indicator = _this$props.indicator,\n          viewProps = _objectWithoutProperties(_this$props, _excluded2);\n\n      var evaStyle = this.getComponentStyle(eva.style);\n      var directionStyle = this.getDirectionStyle();\n      return react_1.default.createElement(react_native_1.View, {\n        style: [directionStyle.container, contentContainerStyle],\n        onLayout: onLayout\n      }, react_1.default.createElement(devsupport_1.FalsyFC, {\n        style: [evaStyle.indicator, directionStyle.indicator],\n        component: indicator\n      }), react_1.default.createElement(react_native_1.View, _extends({}, viewProps, {\n        style: [evaStyle.content, directionStyle.content, style]\n      })));\n    }\n  }]);\n\n  return PopoverView;\n}(react_1.default.Component);\n\nPopoverView = __decorate([theme_1.styled('Popover')], PopoverView);\nexports.PopoverView = PopoverView;","map":{"version":3,"sources":["../../../../../src/components/ui/popover/popoverView.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\nconst theme_1 = require(\"../../theme\");\nconst type_1 = require(\"./type\");\nconst INDICATOR_OFFSET = 8;\nconst INDICATOR_WIDTH = 6;\nlet PopoverView = class PopoverView extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.getComponentStyle = (source) => {\n            const { indicatorWidth, indicatorHeight, indicatorBackgroundColor, ...containerParameters } = source;\n            return {\n                content: containerParameters,\n                indicator: {\n                    width: indicatorWidth,\n                    height: indicatorHeight,\n                    backgroundColor: indicatorBackgroundColor,\n                },\n            };\n        };\n        this.getDirectionStyle = () => {\n            const { direction, alignment } = this.placement.flex();\n            const isVertical = direction.startsWith('column');\n            const isStart = alignment.endsWith('start');\n            const isEnd = alignment.endsWith('end');\n            const isReverse = direction.endsWith('reverse');\n            // Rotate indicator by 90 deg if we have `row` direction (left/right placement)\n            // Rotate it again by 180 if we have `row-reverse` (bottom/right placement)\n            const indicatorRotate = isVertical ? 180 : 90;\n            const indicatorReverseRotate = isReverse ? 0 : 180;\n            // Translate container by half of `indicatorWidth`. Exactly half (because it has a square shape)\n            // Reverse if needed\n            // @ts-ignore: indicatorWidth type is always number\n            let containerTranslate = (this.props.indicator && !isVertical) ? INDICATOR_WIDTH / 2 : 0;\n            containerTranslate = isReverse ? containerTranslate : -containerTranslate;\n            // Translate indicator by passed `indicatorOffset`\n            // Reverse if needed\n            let indicatorTranslate = isVertical ? -INDICATOR_OFFSET : INDICATOR_OFFSET;\n            indicatorTranslate = isReverse ? -indicatorTranslate : indicatorTranslate;\n            const i18nVerticalIndicatorTranslate = devsupport_1.RTLService.select(indicatorTranslate, -indicatorTranslate);\n            indicatorTranslate = isVertical ? i18nVerticalIndicatorTranslate : indicatorTranslate;\n            const contentTransforms = {\n                transform: [\n                    { translateX: containerTranslate },\n                ],\n            };\n            const indicatorTransforms = {\n                transform: [\n                    { rotate: `${indicatorRotate}deg` },\n                    { rotate: `${indicatorReverseRotate}deg` },\n                    // Translate indicator \"to start\" if we have `-start` alignment\n                    // Or translate it \"to end\" if we have `-end` alignment\n                    { translateX: isStart ? -indicatorTranslate : 0 },\n                    { translateX: isEnd ? indicatorTranslate : 0 },\n                ],\n            };\n            return {\n                container: {\n                    flexDirection: direction,\n                    alignItems: alignment,\n                },\n                content: contentTransforms,\n                indicator: indicatorTransforms,\n            };\n        };\n    }\n    get placement() {\n        return type_1.PopoverPlacements.parse(this.props.placement);\n    }\n    render() {\n        const { eva, style, contentContainerStyle, onLayout, indicator, ...viewProps } = this.props;\n        const evaStyle = this.getComponentStyle(eva.style);\n        const directionStyle = this.getDirectionStyle();\n        return (react_1.default.createElement(react_native_1.View, { style: [directionStyle.container, contentContainerStyle], onLayout: onLayout },\n            react_1.default.createElement(devsupport_1.FalsyFC, { style: [evaStyle.indicator, directionStyle.indicator], component: indicator }),\n            react_1.default.createElement(react_native_1.View, Object.assign({}, viewProps, { style: [evaStyle.content, directionStyle.content, style] }))));\n    }\n};\nPopoverView = __decorate([\n    theme_1.styled('Popover')\n], PopoverView);\nexports.PopoverView = PopoverView;\n//# sourceMappingURL=popoverView.component.js.map"]},"metadata":{},"sourceType":"script"}