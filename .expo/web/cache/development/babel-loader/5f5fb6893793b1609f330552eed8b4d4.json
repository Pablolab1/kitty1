{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _excluded = [\"textMarginHorizontal\", \"textFontFamily\", \"textFontSize\", \"textFontWeight\", \"textColor\", \"placeholderColor\", \"iconWidth\", \"iconHeight\", \"iconMarginHorizontal\", \"iconTintColor\", \"labelColor\", \"labelFontSize\", \"labelMarginBottom\", \"labelFontWeight\", \"labelFontFamily\", \"captionMarginTop\", \"captionColor\", \"captionFontSize\", \"captionFontWeight\", \"captionFontFamily\", \"popoverWidth\"],\n    _excluded2 = [\"eva\", \"style\", \"backdropStyle\", \"controlStyle\", \"placement\", \"label\", \"accessoryLeft\", \"accessoryRight\", \"caption\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native\");\n\nvar devsupport_1 = require(\"../../devsupport\");\n\nvar theme_1 = require(\"../../theme\");\n\nvar nativeDate_service_1 = require(\"../calendar/service/nativeDate.service\");\n\nvar popover_component_1 = require(\"../popover/popover.component\");\n\nvar type_1 = require(\"../popover/type\");\n\nvar BaseDatepickerComponent = function (_react_1$default$Comp) {\n  _inherits(BaseDatepickerComponent, _react_1$default$Comp);\n\n  var _super = _createSuper(BaseDatepickerComponent);\n\n  function BaseDatepickerComponent() {\n    var _this;\n\n    _classCallCheck(this, BaseDatepickerComponent);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      visible: false\n    };\n    _this.popoverRef = react_1.default.createRef();\n\n    _this.show = function () {\n      var _this$popoverRef$curr;\n\n      (_this$popoverRef$curr = _this.popoverRef.current) == null ? void 0 : _this$popoverRef$curr.show();\n    };\n\n    _this.hide = function () {\n      var _this$popoverRef$curr2;\n\n      (_this$popoverRef$curr2 = _this.popoverRef.current) == null ? void 0 : _this$popoverRef$curr2.hide();\n    };\n\n    _this.focus = function () {\n      _this.setState({\n        visible: true\n      }, _this.onPickerVisible);\n    };\n\n    _this.blur = function () {\n      _this.setState({\n        visible: false\n      }, _this.onPickerInvisible);\n    };\n\n    _this.isFocused = function () {\n      return _this.state.visible;\n    };\n\n    _this.getComponentStyle = function (style) {\n      var textMarginHorizontal = style.textMarginHorizontal,\n          textFontFamily = style.textFontFamily,\n          textFontSize = style.textFontSize,\n          textFontWeight = style.textFontWeight,\n          textColor = style.textColor,\n          placeholderColor = style.placeholderColor,\n          iconWidth = style.iconWidth,\n          iconHeight = style.iconHeight,\n          iconMarginHorizontal = style.iconMarginHorizontal,\n          iconTintColor = style.iconTintColor,\n          labelColor = style.labelColor,\n          labelFontSize = style.labelFontSize,\n          labelMarginBottom = style.labelMarginBottom,\n          labelFontWeight = style.labelFontWeight,\n          labelFontFamily = style.labelFontFamily,\n          captionMarginTop = style.captionMarginTop,\n          captionColor = style.captionColor,\n          captionFontSize = style.captionFontSize,\n          captionFontWeight = style.captionFontWeight,\n          captionFontFamily = style.captionFontFamily,\n          popoverWidth = style.popoverWidth,\n          controlParameters = _objectWithoutProperties(style, _excluded);\n\n      return {\n        control: controlParameters,\n        text: {\n          marginHorizontal: textMarginHorizontal,\n          fontFamily: textFontFamily,\n          fontSize: textFontSize,\n          fontWeight: textFontWeight,\n          color: textColor\n        },\n        placeholder: {\n          marginHorizontal: textMarginHorizontal,\n          color: placeholderColor\n        },\n        icon: {\n          width: iconWidth,\n          height: iconHeight,\n          marginHorizontal: iconMarginHorizontal,\n          tintColor: iconTintColor\n        },\n        label: {\n          color: labelColor,\n          fontSize: labelFontSize,\n          fontFamily: labelFontFamily,\n          marginBottom: labelMarginBottom,\n          fontWeight: labelFontWeight\n        },\n        captionLabel: {\n          fontSize: captionFontSize,\n          fontWeight: captionFontWeight,\n          fontFamily: captionFontFamily,\n          color: captionColor\n        },\n        popover: {\n          width: popoverWidth,\n          marginBottom: captionMarginTop\n        }\n      };\n    };\n\n    _this.onPress = function (event) {\n      _this.setPickerVisible();\n\n      _this.props.onPress && _this.props.onPress(event);\n    };\n\n    _this.onPressIn = function (event) {\n      _this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n\n      _this.props.onPressIn && _this.props.onPressIn(event);\n    };\n\n    _this.onPressOut = function (event) {\n      _this.props.eva.dispatch([]);\n\n      _this.props.onPressOut && _this.props.onPressOut(event);\n    };\n\n    _this.onPickerVisible = function () {\n      _this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n\n      _this.props.onFocus && _this.props.onFocus();\n    };\n\n    _this.onPickerInvisible = function () {\n      _this.props.eva.dispatch([]);\n\n      _this.props.onBlur && _this.props.onBlur();\n    };\n\n    _this.setPickerVisible = function () {\n      _this.setState({\n        visible: true\n      }, _this.onPickerVisible);\n    };\n\n    _this.setPickerInvisible = function () {\n      _this.setState({\n        visible: false\n      }, _this.onPickerInvisible);\n    };\n\n    _this.renderInputElement = function (props, evaStyle) {\n      return react_1.default.createElement(devsupport_1.TouchableWithoutFeedback, _extends({}, props, {\n        style: [evaStyle.control, styles.control, _this.props.controlStyle],\n        onPress: _this.onPress,\n        onPressIn: _this.onPressIn,\n        onPressOut: _this.onPressOut\n      }), react_1.default.createElement(devsupport_1.FalsyFC, {\n        style: evaStyle.icon,\n        component: _this.props.accessoryLeft\n      }), react_1.default.createElement(devsupport_1.FalsyText, {\n        style: evaStyle.text,\n        numberOfLines: 1,\n        ellipsizeMode: 'tail',\n        component: _this.getComponentTitle()\n      }), react_1.default.createElement(devsupport_1.FalsyFC, {\n        style: evaStyle.icon,\n        component: _this.props.accessoryRight\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseDatepickerComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          eva = _this$props.eva,\n          style = _this$props.style,\n          backdropStyle = _this$props.backdropStyle,\n          controlStyle = _this$props.controlStyle,\n          placement = _this$props.placement,\n          label = _this$props.label,\n          accessoryLeft = _this$props.accessoryLeft,\n          accessoryRight = _this$props.accessoryRight,\n          caption = _this$props.caption,\n          touchableProps = _objectWithoutProperties(_this$props, _excluded2);\n\n      var evaStyle = this.getComponentStyle(eva.style);\n      return react_1.default.createElement(react_native_1.View, {\n        style: style\n      }, react_1.default.createElement(devsupport_1.FalsyText, {\n        style: [evaStyle.label, styles.label],\n        component: label\n      }), react_1.default.createElement(popover_component_1.Popover, {\n        ref: this.popoverRef,\n        style: [evaStyle.popover, styles.popover],\n        backdropStyle: backdropStyle,\n        placement: placement,\n        visible: this.state.visible,\n        anchor: function anchor() {\n          return _this2.renderInputElement(touchableProps, evaStyle);\n        },\n        onBackdropPress: this.setPickerInvisible\n      }, this.renderCalendar()), react_1.default.createElement(devsupport_1.FalsyText, {\n        style: [evaStyle.captionLabel, styles.captionLabel],\n        component: caption\n      }));\n    }\n  }]);\n\n  return BaseDatepickerComponent;\n}(react_1.default.Component);\n\nexports.BaseDatepickerComponent = BaseDatepickerComponent;\nBaseDatepickerComponent.defaultProps = {\n  dateService: new nativeDate_service_1.NativeDateService(),\n  placeholder: 'dd/mm/yyyy',\n  placement: type_1.PopoverPlacements.BOTTOM_START\n};\nvar styles = react_native_1.StyleSheet.create({\n  popover: {\n    borderWidth: 0\n  },\n  control: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  label: {\n    textAlign: 'left'\n  },\n  captionLabel: {\n    textAlign: 'left'\n  }\n});","map":{"version":3,"sources":["../../../../../src/components/ui/datepicker/baseDatepicker.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\nconst theme_1 = require(\"../../theme\");\nconst nativeDate_service_1 = require(\"../calendar/service/nativeDate.service\");\nconst popover_component_1 = require(\"../popover/popover.component\");\nconst type_1 = require(\"../popover/type\");\nclass BaseDatepickerComponent extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            visible: false,\n        };\n        this.popoverRef = react_1.default.createRef();\n        this.show = () => {\n            this.popoverRef.current?.show();\n        };\n        this.hide = () => {\n            this.popoverRef.current?.hide();\n        };\n        this.focus = () => {\n            this.setState({ visible: true }, this.onPickerVisible);\n        };\n        this.blur = () => {\n            this.setState({ visible: false }, this.onPickerInvisible);\n        };\n        this.isFocused = () => {\n            return this.state.visible;\n        };\n        this.getComponentStyle = (style) => {\n            const { textMarginHorizontal, textFontFamily, textFontSize, textFontWeight, textColor, placeholderColor, iconWidth, iconHeight, iconMarginHorizontal, iconTintColor, labelColor, labelFontSize, labelMarginBottom, labelFontWeight, labelFontFamily, captionMarginTop, captionColor, captionFontSize, captionFontWeight, captionFontFamily, popoverWidth, ...controlParameters } = style;\n            return {\n                control: controlParameters,\n                text: {\n                    marginHorizontal: textMarginHorizontal,\n                    fontFamily: textFontFamily,\n                    fontSize: textFontSize,\n                    fontWeight: textFontWeight,\n                    color: textColor,\n                },\n                placeholder: {\n                    marginHorizontal: textMarginHorizontal,\n                    color: placeholderColor,\n                },\n                icon: {\n                    width: iconWidth,\n                    height: iconHeight,\n                    marginHorizontal: iconMarginHorizontal,\n                    tintColor: iconTintColor,\n                },\n                label: {\n                    color: labelColor,\n                    fontSize: labelFontSize,\n                    fontFamily: labelFontFamily,\n                    marginBottom: labelMarginBottom,\n                    fontWeight: labelFontWeight,\n                },\n                captionLabel: {\n                    fontSize: captionFontSize,\n                    fontWeight: captionFontWeight,\n                    fontFamily: captionFontFamily,\n                    color: captionColor,\n                },\n                popover: {\n                    width: popoverWidth,\n                    marginBottom: captionMarginTop,\n                },\n            };\n        };\n        this.onPress = (event) => {\n            this.setPickerVisible();\n            this.props.onPress && this.props.onPress(event);\n        };\n        this.onPressIn = (event) => {\n            this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n            this.props.onPressIn && this.props.onPressIn(event);\n        };\n        this.onPressOut = (event) => {\n            this.props.eva.dispatch([]);\n            this.props.onPressOut && this.props.onPressOut(event);\n        };\n        this.onPickerVisible = () => {\n            this.props.eva.dispatch([theme_1.Interaction.ACTIVE]);\n            this.props.onFocus && this.props.onFocus();\n        };\n        this.onPickerInvisible = () => {\n            this.props.eva.dispatch([]);\n            this.props.onBlur && this.props.onBlur();\n        };\n        this.setPickerVisible = () => {\n            this.setState({ visible: true }, this.onPickerVisible);\n        };\n        this.setPickerInvisible = () => {\n            this.setState({ visible: false }, this.onPickerInvisible);\n        };\n        this.renderInputElement = (props, evaStyle) => {\n            return (react_1.default.createElement(devsupport_1.TouchableWithoutFeedback, Object.assign({}, props, { style: [evaStyle.control, styles.control, this.props.controlStyle], onPress: this.onPress, onPressIn: this.onPressIn, onPressOut: this.onPressOut }),\n                react_1.default.createElement(devsupport_1.FalsyFC, { style: evaStyle.icon, component: this.props.accessoryLeft }),\n                react_1.default.createElement(devsupport_1.FalsyText, { style: evaStyle.text, numberOfLines: 1, ellipsizeMode: 'tail', component: this.getComponentTitle() }),\n                react_1.default.createElement(devsupport_1.FalsyFC, { style: evaStyle.icon, component: this.props.accessoryRight })));\n        };\n    }\n    render() {\n        const { eva, style, backdropStyle, controlStyle, placement, label, accessoryLeft, accessoryRight, caption, ...touchableProps } = this.props;\n        const evaStyle = this.getComponentStyle(eva.style);\n        return (react_1.default.createElement(react_native_1.View, { style: style },\n            react_1.default.createElement(devsupport_1.FalsyText, { style: [evaStyle.label, styles.label], component: label }),\n            react_1.default.createElement(popover_component_1.Popover, { ref: this.popoverRef, style: [evaStyle.popover, styles.popover], backdropStyle: backdropStyle, placement: placement, visible: this.state.visible, anchor: () => this.renderInputElement(touchableProps, evaStyle), onBackdropPress: this.setPickerInvisible }, this.renderCalendar()),\n            react_1.default.createElement(devsupport_1.FalsyText, { style: [evaStyle.captionLabel, styles.captionLabel], component: caption })));\n    }\n}\nexports.BaseDatepickerComponent = BaseDatepickerComponent;\nBaseDatepickerComponent.defaultProps = {\n    dateService: new nativeDate_service_1.NativeDateService(),\n    placeholder: 'dd/mm/yyyy',\n    placement: type_1.PopoverPlacements.BOTTOM_START,\n};\nconst styles = react_native_1.StyleSheet.create({\n    popover: {\n        borderWidth: 0,\n    },\n    control: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    label: {\n        textAlign: 'left',\n    },\n    captionLabel: {\n        textAlign: 'left',\n    },\n});\n//# sourceMappingURL=baseDatepicker.component.js.map"]},"metadata":{},"sourceType":"script"}