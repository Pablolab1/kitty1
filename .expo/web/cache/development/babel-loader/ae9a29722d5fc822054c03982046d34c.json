{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createHandler;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _areEqual = _interopRequireDefault(require(\"fbjs/lib/areEqual\"));\n\nvar _RNGestureHandlerModule = _interopRequireDefault(require(\"./RNGestureHandlerModule\"));\n\nvar _State = _interopRequireDefault(require(\"./State\"));\n\nvar _stateToPropMappings;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction findNodeHandle(node) {\n  if (_reactNative.Platform.OS === 'web') return node;\n  return (0, _reactNative.findNodeHandle)(node);\n}\n\nvar _NativeModules$UIMana = _reactNative.NativeModules.UIManager,\n    UIManager = _NativeModules$UIMana === void 0 ? {} : _NativeModules$UIMana;\nvar customGHEventsConfig = {\n  onGestureHandlerEvent: {\n    registrationName: 'onGestureHandlerEvent'\n  },\n  onGestureHandlerStateChange: {\n    registrationName: 'onGestureHandlerStateChange'\n  }\n};\nUIManager.genericDirectEventTypes = _objectSpread(_objectSpread({}, UIManager.genericDirectEventTypes), customGHEventsConfig);\n\nif (UIManager.getConstants) {\n  UIManager.getConstants().genericDirectEventTypes = _objectSpread(_objectSpread({}, UIManager.getConstants().genericDirectEventTypes), customGHEventsConfig);\n}\n\nvar _UIManager$setJSRespo = UIManager.setJSResponder,\n    oldSetJSResponder = _UIManager$setJSRespo === void 0 ? function () {} : _UIManager$setJSRespo,\n    _UIManager$clearJSRes = UIManager.clearJSResponder,\n    oldClearJSResponder = _UIManager$clearJSRes === void 0 ? function () {} : _UIManager$clearJSRes;\n\nUIManager.setJSResponder = function (tag, blockNativeResponder) {\n  _RNGestureHandlerModule.default.handleSetJSResponder(tag, blockNativeResponder);\n\n  oldSetJSResponder(tag, blockNativeResponder);\n};\n\nUIManager.clearJSResponder = function () {\n  _RNGestureHandlerModule.default.handleClearJSResponder();\n\n  oldClearJSResponder();\n};\n\nvar handlerTag = 1;\nvar handlerIDToTag = {};\n\nfunction isConfigParam(param, name) {\n  return param !== undefined && (param !== Object(param) || !('__isNative' in param)) && name !== 'onHandlerStateChange' && name !== 'onGestureEvent';\n}\n\nfunction filterConfig(props, validProps) {\n  var defaults = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var res = _objectSpread({}, defaults);\n\n  Object.keys(validProps).forEach(function (key) {\n    var value = props[key];\n\n    if (isConfigParam(value, key)) {\n      var _value = props[key];\n\n      if (key === 'simultaneousHandlers' || key === 'waitFor') {\n        _value = transformIntoHandlerTags(props[key]);\n      } else if (key === 'hitSlop') {\n        if (typeof _value !== 'object') {\n          _value = {\n            top: _value,\n            left: _value,\n            bottom: _value,\n            right: _value\n          };\n        }\n      }\n\n      res[key] = _value;\n    }\n  });\n  return res;\n}\n\nfunction transformIntoHandlerTags(handlerIDs) {\n  if (!Array.isArray(handlerIDs)) {\n    handlerIDs = [handlerIDs];\n  }\n\n  if (_reactNative.Platform.OS === 'web') {\n    return handlerIDs.map(function (_ref) {\n      var current = _ref.current;\n      return current;\n    }).filter(function (handle) {\n      return handle;\n    });\n  }\n\n  return handlerIDs.map(function (handlerID) {\n    return handlerIDToTag[handlerID] || handlerID.current && handlerID.current._handlerTag || -1;\n  }).filter(function (handlerTag) {\n    return handlerTag > 0;\n  });\n}\n\nfunction hasUnresolvedRefs(props) {\n  var extract = function extract(refs) {\n    if (!Array.isArray(refs)) {\n      return refs && refs.current === null;\n    }\n\n    return refs.some(function (r) {\n      return r && r.current === null;\n    });\n  };\n\n  return extract(props['simultaneousHandlers']) || extract(props['waitFor']);\n}\n\nvar stateToPropMappings = (_stateToPropMappings = {}, (0, _defineProperty2.default)(_stateToPropMappings, _State.default.BEGAN, 'onBegan'), (0, _defineProperty2.default)(_stateToPropMappings, _State.default.FAILED, 'onFailed'), (0, _defineProperty2.default)(_stateToPropMappings, _State.default.CANCELLED, 'onCancelled'), (0, _defineProperty2.default)(_stateToPropMappings, _State.default.ACTIVE, 'onActivated'), (0, _defineProperty2.default)(_stateToPropMappings, _State.default.END, 'onEnded'), _stateToPropMappings);\n\nfunction createHandler(handlerName) {\n  var propTypes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var transformProps = arguments.length > 3 ? arguments[3] : undefined;\n  var customNativeProps = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n  var Handler = function (_React$Component) {\n    (0, _inherits2.default)(Handler, _React$Component);\n\n    var _super = _createSuper(Handler);\n\n    function Handler(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, Handler);\n      _this = _super.call(this, props);\n\n      _this._onGestureHandlerEvent = function (event) {\n        if (event.nativeEvent.handlerTag === _this._handlerTag) {\n          _this.props.onGestureEvent && _this.props.onGestureEvent(event);\n        } else {\n          _this.props.onGestureHandlerEvent && _this.props.onGestureHandlerEvent(event);\n        }\n      };\n\n      _this._onGestureHandlerStateChange = function (event) {\n        if (event.nativeEvent.handlerTag === _this._handlerTag) {\n          _this.props.onHandlerStateChange && _this.props.onHandlerStateChange(event);\n          var stateEventName = stateToPropMappings[event.nativeEvent.state];\n\n          if (typeof _this.props[stateEventName] === 'function') {\n            _this.props[stateEventName](event);\n          }\n        } else {\n          _this.props.onGestureHandlerStateChange && _this.props.onGestureHandlerStateChange(event);\n        }\n      };\n\n      _this._refHandler = function (node) {\n        _this._viewNode = node;\n\n        var child = _react.default.Children.only(_this.props.children);\n\n        var ref = child.ref;\n\n        if (ref !== null) {\n          if (typeof ref === 'function') {\n            ref(node);\n          } else {\n            ref.current = node;\n          }\n        }\n      };\n\n      _this._createGestureHandler = function (newConfig) {\n        _this._config = newConfig;\n\n        _RNGestureHandlerModule.default.createGestureHandler(handlerName, _this._handlerTag, newConfig);\n      };\n\n      _this._attachGestureHandler = function (newViewTag) {\n        _this._viewTag = newViewTag;\n\n        _RNGestureHandlerModule.default.attachGestureHandler(_this._handlerTag, newViewTag);\n      };\n\n      _this._updateGestureHandler = function (newConfig) {\n        _this._config = newConfig;\n\n        _RNGestureHandlerModule.default.updateGestureHandler(_this._handlerTag, newConfig);\n      };\n\n      _this._handlerTag = handlerTag++;\n      _this._config = {};\n\n      if (props.id) {\n        if (handlerIDToTag[props.id] !== undefined) {\n          throw new Error(\"Handler with ID \\\"\" + props.id + \"\\\" already registered\");\n        }\n\n        handlerIDToTag[props.id] = _this._handlerTag;\n      }\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(Handler, [{\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        _RNGestureHandlerModule.default.dropGestureHandler(this._handlerTag);\n\n        if (this._updateEnqueued) {\n          clearImmediate(this._updateEnqueued);\n        }\n\n        if (this.props.id) {\n          delete handlerIDToTag[this.props.id];\n        }\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        if (hasUnresolvedRefs(this.props)) {\n          this._updateEnqueued = setImmediate(function () {\n            _this2._updateEnqueued = null;\n\n            _this2._update();\n          });\n        }\n\n        this._createGestureHandler(filterConfig(transformProps ? transformProps(this.props) : this.props, _objectSpread(_objectSpread({}, this.constructor.propTypes), customNativeProps), config));\n\n        this._attachGestureHandler(findNodeHandle(this._viewNode));\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var viewTag = findNodeHandle(this._viewNode);\n\n        if (this._viewTag !== viewTag) {\n          this._attachGestureHandler(viewTag);\n        }\n\n        this._update();\n      }\n    }, {\n      key: \"_update\",\n      value: function _update() {\n        var newConfig = filterConfig(transformProps ? transformProps(this.props) : this.props, _objectSpread(_objectSpread({}, this.constructor.propTypes), customNativeProps), config);\n\n        if (!(0, _areEqual.default)(this._config, newConfig)) {\n          this._updateGestureHandler(newConfig);\n        }\n      }\n    }, {\n      key: \"setNativeProps\",\n      value: function setNativeProps(updates) {\n        var mergedProps = _objectSpread(_objectSpread({}, this.props), updates);\n\n        var newConfig = filterConfig(transformProps ? transformProps(mergedProps) : mergedProps, _objectSpread(_objectSpread({}, this.constructor.propTypes), customNativeProps), config);\n\n        this._updateGestureHandler(newConfig);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var gestureEventHandler = this._onGestureHandlerEvent;\n        var _this$props = this.props,\n            onGestureEvent = _this$props.onGestureEvent,\n            onGestureHandlerEvent = _this$props.onGestureHandlerEvent;\n\n        if (onGestureEvent && typeof onGestureEvent !== 'function') {\n          if (onGestureHandlerEvent) {\n            throw new Error('Nesting touch handlers with native animated driver is not supported yet');\n          }\n\n          gestureEventHandler = this.props.onGestureEvent;\n        } else {\n          if (onGestureHandlerEvent && typeof onGestureHandlerEvent !== 'function') {\n            throw new Error('Nesting touch handlers with native animated driver is not supported yet');\n          }\n        }\n\n        var gestureStateEventHandler = this._onGestureHandlerStateChange;\n        var _this$props2 = this.props,\n            onHandlerStateChange = _this$props2.onHandlerStateChange,\n            onGestureHandlerStateChange = _this$props2.onGestureHandlerStateChange;\n\n        if (onHandlerStateChange && typeof onHandlerStateChange !== 'function') {\n          if (onGestureHandlerStateChange) {\n            throw new Error('Nesting touch handlers with native animated driver is not supported yet');\n          }\n\n          gestureStateEventHandler = this.props.onHandlerStateChange;\n        } else {\n          if (onGestureHandlerStateChange && typeof onGestureHandlerStateChange !== 'function') {\n            throw new Error('Nesting touch handlers with native animated driver is not supported yet');\n          }\n        }\n\n        var child = _react.default.Children.only(this.props.children);\n\n        var grandChildren = child.props.children;\n\n        if (_reactNative.Touchable.TOUCH_TARGET_DEBUG && child.type && (child.type === 'RNGestureHandlerButton' || child.type.name === 'View' || child.type.displayName === 'View')) {\n          grandChildren = _react.default.Children.toArray(grandChildren);\n          grandChildren.push(_reactNative.Touchable.renderDebugView({\n            color: 'mediumspringgreen',\n            hitSlop: child.props.hitSlop\n          }));\n        }\n\n        return _react.default.cloneElement(child, {\n          ref: this._refHandler,\n          collapsable: false,\n          onGestureHandlerEvent: gestureEventHandler,\n          onGestureHandlerStateChange: gestureStateEventHandler\n        }, grandChildren);\n      }\n    }]);\n    return Handler;\n  }(_react.default.Component);\n\n  Handler.displayName = handlerName;\n  Handler.propTypes = propTypes;\n  return Handler;\n}","map":{"version":3,"names":["findNodeHandle","node","Platform","OS","findNodeHandleRN","NativeModules","UIManager","customGHEventsConfig","onGestureHandlerEvent","registrationName","onGestureHandlerStateChange","genericDirectEventTypes","getConstants","setJSResponder","oldSetJSResponder","clearJSResponder","oldClearJSResponder","tag","blockNativeResponder","RNGestureHandlerModule","handleSetJSResponder","handleClearJSResponder","handlerTag","handlerIDToTag","isConfigParam","param","name","undefined","Object","filterConfig","props","validProps","defaults","res","keys","forEach","key","value","transformIntoHandlerTags","top","left","bottom","right","handlerIDs","Array","isArray","map","current","filter","handle","handlerID","_handlerTag","hasUnresolvedRefs","extract","refs","some","r","stateToPropMappings","State","BEGAN","FAILED","CANCELLED","ACTIVE","END","createHandler","handlerName","propTypes","config","transformProps","customNativeProps","Handler","_onGestureHandlerEvent","event","nativeEvent","onGestureEvent","_onGestureHandlerStateChange","onHandlerStateChange","stateEventName","state","_refHandler","_viewNode","child","React","Children","only","children","ref","_createGestureHandler","newConfig","_config","createGestureHandler","_attachGestureHandler","newViewTag","_viewTag","attachGestureHandler","_updateGestureHandler","updateGestureHandler","id","Error","dropGestureHandler","_updateEnqueued","clearImmediate","setImmediate","_update","constructor","viewTag","deepEqual","updates","mergedProps","gestureEventHandler","gestureStateEventHandler","grandChildren","Touchable","TOUCH_TARGET_DEBUG","type","displayName","toArray","push","renderDebugView","color","hitSlop","cloneElement","collapsable","Component"],"sources":["C:/wks/reactnative/prueba/kitten2/node_modules/react-native-gesture-handler/createHandler.js"],"sourcesContent":["import React from 'react';\nimport {\n  findNodeHandle as findNodeHandleRN,\n  NativeModules,\n  Touchable,\n  Platform,\n} from 'react-native';\nimport deepEqual from 'fbjs/lib/areEqual';\nimport RNGestureHandlerModule from './RNGestureHandlerModule';\nimport State from './State';\n\nfunction findNodeHandle(node) {\n  if (Platform.OS === 'web') return node;\n  return findNodeHandleRN(node);\n}\n\nconst { UIManager = {} } = NativeModules;\n\nconst customGHEventsConfig = {\n  onGestureHandlerEvent: { registrationName: 'onGestureHandlerEvent' },\n  onGestureHandlerStateChange: {\n    registrationName: 'onGestureHandlerStateChange',\n  },\n};\n\n// Add gesture specific events to genericDirectEventTypes object exported from UIManager\n// native module.\n// Once new event types are registered with react it is possible to dispatch these\n// events to all kind of native views.\nUIManager.genericDirectEventTypes = {\n  ...UIManager.genericDirectEventTypes,\n  ...customGHEventsConfig,\n};\n// In newer versions of RN the `genericDirectEventTypes` is located in the object\n// returned by UIManager.getConstants(), we need to add it there as well to make\n// it compatible with RN 61+\nif (UIManager.getConstants) {\n  UIManager.getConstants().genericDirectEventTypes = {\n    ...UIManager.getConstants().genericDirectEventTypes,\n    ...customGHEventsConfig,\n  };\n}\n\n// Wrap JS responder calls and notify gesture handler manager\nconst {\n  setJSResponder: oldSetJSResponder = () => {},\n  clearJSResponder: oldClearJSResponder = () => {},\n} = UIManager;\nUIManager.setJSResponder = (tag, blockNativeResponder) => {\n  RNGestureHandlerModule.handleSetJSResponder(tag, blockNativeResponder);\n  oldSetJSResponder(tag, blockNativeResponder);\n};\nUIManager.clearJSResponder = () => {\n  RNGestureHandlerModule.handleClearJSResponder();\n  oldClearJSResponder();\n};\n\nlet handlerTag = 1;\nconst handlerIDToTag = {};\n\nfunction isConfigParam(param, name) {\n  // param !== Object(param) returns false if `param` is a function\n  // or an object and returns true if `param` is null\n  return (\n    param !== undefined &&\n    (param !== Object(param) || !('__isNative' in param)) &&\n    name !== 'onHandlerStateChange' &&\n    name !== 'onGestureEvent'\n  );\n}\n\nfunction filterConfig(props, validProps, defaults = {}) {\n  const res = { ...defaults };\n  Object.keys(validProps).forEach(key => {\n    const value = props[key];\n    if (isConfigParam(value, key)) {\n      let value = props[key];\n      if (key === 'simultaneousHandlers' || key === 'waitFor') {\n        value = transformIntoHandlerTags(props[key]);\n      } else if (key === 'hitSlop') {\n        if (typeof value !== 'object') {\n          value = { top: value, left: value, bottom: value, right: value };\n        }\n      }\n      res[key] = value;\n    }\n  });\n  return res;\n}\n\nfunction transformIntoHandlerTags(handlerIDs) {\n  if (!Array.isArray(handlerIDs)) {\n    handlerIDs = [handlerIDs];\n  }\n\n  if (Platform.OS === 'web') {\n    return handlerIDs.map(({ current }) => current).filter(handle => handle);\n  }\n  // converts handler string IDs into their numeric tags\n  return handlerIDs\n    .map(\n      handlerID =>\n        handlerIDToTag[handlerID] ||\n        (handlerID.current && handlerID.current._handlerTag) ||\n        -1\n    )\n    .filter(handlerTag => handlerTag > 0);\n}\n\nfunction hasUnresolvedRefs(props) {\n  const extract = refs => {\n    if (!Array.isArray(refs)) {\n      return refs && refs.current === null;\n    }\n    return refs.some(r => r && r.current === null);\n  };\n  return extract(props['simultaneousHandlers']) || extract(props['waitFor']);\n}\n\nconst stateToPropMappings = {\n  [State.BEGAN]: 'onBegan',\n  [State.FAILED]: 'onFailed',\n  [State.CANCELLED]: 'onCancelled',\n  [State.ACTIVE]: 'onActivated',\n  [State.END]: 'onEnded',\n};\n\nexport default function createHandler(\n  handlerName,\n  propTypes = {},\n  config = {},\n  transformProps,\n  customNativeProps = {}\n) {\n  class Handler extends React.Component {\n    static displayName = handlerName;\n\n    static propTypes = propTypes;\n\n    constructor(props) {\n      super(props);\n      this._handlerTag = handlerTag++;\n      this._config = {};\n      if (props.id) {\n        if (handlerIDToTag[props.id] !== undefined) {\n          throw new Error(`Handler with ID \"${props.id}\" already registered`);\n        }\n        handlerIDToTag[props.id] = this._handlerTag;\n      }\n    }\n\n    _onGestureHandlerEvent = event => {\n      if (event.nativeEvent.handlerTag === this._handlerTag) {\n        this.props.onGestureEvent && this.props.onGestureEvent(event);\n      } else {\n        this.props.onGestureHandlerEvent &&\n          this.props.onGestureHandlerEvent(event);\n      }\n    };\n\n    _onGestureHandlerStateChange = event => {\n      if (event.nativeEvent.handlerTag === this._handlerTag) {\n        this.props.onHandlerStateChange &&\n          this.props.onHandlerStateChange(event);\n\n        const stateEventName = stateToPropMappings[event.nativeEvent.state];\n        if (typeof this.props[stateEventName] === 'function') {\n          this.props[stateEventName](event);\n        }\n      } else {\n        this.props.onGestureHandlerStateChange &&\n          this.props.onGestureHandlerStateChange(event);\n      }\n    };\n\n    _refHandler = node => {\n      this._viewNode = node;\n\n      const child = React.Children.only(this.props.children);\n      const { ref } = child;\n      if (ref !== null) {\n        if (typeof ref === 'function') {\n          ref(node);\n        } else {\n          ref.current = node;\n        }\n      }\n    };\n\n    _createGestureHandler = newConfig => {\n      this._config = newConfig;\n\n      RNGestureHandlerModule.createGestureHandler(\n        handlerName,\n        this._handlerTag,\n        newConfig\n      );\n    };\n\n    _attachGestureHandler = newViewTag => {\n      this._viewTag = newViewTag;\n\n      RNGestureHandlerModule.attachGestureHandler(this._handlerTag, newViewTag);\n    };\n\n    _updateGestureHandler = newConfig => {\n      this._config = newConfig;\n\n      RNGestureHandlerModule.updateGestureHandler(this._handlerTag, newConfig);\n    };\n\n    componentWillUnmount() {\n      RNGestureHandlerModule.dropGestureHandler(this._handlerTag);\n      if (this._updateEnqueued) {\n        clearImmediate(this._updateEnqueued);\n      }\n      if (this.props.id) {\n        delete handlerIDToTag[this.props.id];\n      }\n    }\n\n    componentDidMount() {\n      if (hasUnresolvedRefs(this.props)) {\n        // If there are unresolved refs (e.g. \".current\" has not yet been set)\n        // passed as `simultaneousHandlers` or `waitFor`, we enqueue a call to\n        // _update method that will try to update native handler props using\n        // setImmediate. This makes it so _update function gets called after all\n        // react components are mounted and we expect the missing ref object to\n        // be resolved by then.\n        this._updateEnqueued = setImmediate(() => {\n          this._updateEnqueued = null;\n          this._update();\n        });\n      }\n\n      this._createGestureHandler(\n        filterConfig(\n          transformProps ? transformProps(this.props) : this.props,\n          { ...this.constructor.propTypes, ...customNativeProps },\n          config\n        )\n      );\n      this._attachGestureHandler(findNodeHandle(this._viewNode));\n    }\n\n    componentDidUpdate() {\n      const viewTag = findNodeHandle(this._viewNode);\n      if (this._viewTag !== viewTag) {\n        this._attachGestureHandler(viewTag);\n      }\n      this._update();\n    }\n\n    _update() {\n      const newConfig = filterConfig(\n        transformProps ? transformProps(this.props) : this.props,\n        { ...this.constructor.propTypes, ...customNativeProps },\n        config\n      );\n      if (!deepEqual(this._config, newConfig)) {\n        this._updateGestureHandler(newConfig);\n      }\n    }\n\n    setNativeProps(updates) {\n      const mergedProps = { ...this.props, ...updates };\n      const newConfig = filterConfig(\n        transformProps ? transformProps(mergedProps) : mergedProps,\n        { ...this.constructor.propTypes, ...customNativeProps },\n        config\n      );\n      this._updateGestureHandler(newConfig);\n    }\n\n    render() {\n      let gestureEventHandler = this._onGestureHandlerEvent;\n      const { onGestureEvent, onGestureHandlerEvent } = this.props;\n      if (onGestureEvent && typeof onGestureEvent !== 'function') {\n        // If it's not a method it should be an native Animated.event\n        // object. We set it directly as the handler for the view\n        // In this case nested handlers are not going to be supported\n        if (onGestureHandlerEvent) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n        gestureEventHandler = this.props.onGestureEvent;\n      } else {\n        if (\n          onGestureHandlerEvent &&\n          typeof onGestureHandlerEvent !== 'function'\n        ) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n      }\n\n      let gestureStateEventHandler = this._onGestureHandlerStateChange;\n      const { onHandlerStateChange, onGestureHandlerStateChange } = this.props;\n      if (onHandlerStateChange && typeof onHandlerStateChange !== 'function') {\n        // If it's not a method it should be an native Animated.event\n        // object. We set it directly as the handler for the view\n        // In this case nested handlers are not going to be supported\n        if (onGestureHandlerStateChange) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n        gestureStateEventHandler = this.props.onHandlerStateChange;\n      } else {\n        if (\n          onGestureHandlerStateChange &&\n          typeof onGestureHandlerStateChange !== 'function'\n        ) {\n          throw new Error(\n            'Nesting touch handlers with native animated driver is not supported yet'\n          );\n        }\n      }\n\n      const child = React.Children.only(this.props.children);\n      let grandChildren = child.props.children;\n      if (\n        Touchable.TOUCH_TARGET_DEBUG &&\n        child.type &&\n        (child.type === 'RNGestureHandlerButton' ||\n          child.type.name === 'View' ||\n          child.type.displayName === 'View')\n      ) {\n        grandChildren = React.Children.toArray(grandChildren);\n        grandChildren.push(\n          Touchable.renderDebugView({\n            color: 'mediumspringgreen',\n            hitSlop: child.props.hitSlop,\n          })\n        );\n      }\n      return React.cloneElement(\n        child,\n        {\n          ref: this._refHandler,\n          collapsable: false,\n          onGestureHandlerEvent: gestureEventHandler,\n          onGestureHandlerStateChange: gestureStateEventHandler,\n        },\n        grandChildren\n      );\n    }\n  }\n  return Handler;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}